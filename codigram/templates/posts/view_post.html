{% extends "layout.html" %}

{% block content %}


    <div class="container">
        <div class="row">
            <div id="codepage" class="col-lg overflow-scroll mt-4 mb-5"></div>
        </div>
    </div>

{% endblock content %}

{% block scripts %}

    <!-- Code Editor -->
    <script src="{{ url_for('static', filename='js/codemirror/lib/codemirror.js') }}"></script>
    <script src="{{ url_for('static', filename='js/codemirror/mode/python/python.js') }}"></script>

    <!-- Skulpt Base Library -->
    <script src="{{ url_for('static', filename='js/skulpt/skulpt.es5.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/skulpt/skulpt-stdlib.js') }}" type="text/javascript"></script>

    <!-- Page Javascript -->
    <script type="text/javascript" src="/static/js/codepage_scripts/skulpt_loader.js"></script>
    <script type="text/javascript" src="/static/js/codepage_scripts/style_rules.js"></script>
    <script type="text/javascript" src="/static/js/codepage_scripts/editable.js"></script>
    <script type="text/javascript" src="/static/js/codepage_scripts/codepage_loader.js"></script>

    <script>
        const EDIT_URL = '{{ url_for("edit_post", post_uuid=post.uuid) }}'
        let editable = load_codepage("codepage", {{ post.get_json()|tojson|safe }}, {% if post.author.uuid == current_user.uuid %}true{% else %}false{% endif %})
    </script>

{% endblock scripts %}